Создание загрузочного LiveCD со своей нагрузкой:

Небольшое описание, что представляет из себя LiveCD:
Просто ядро с вкомпиленным внего initramfs. Всё! Почему вкомпиленным, а не
указанным через опцию initrd в загрузчике? Просто мне так удобнее. Вы по
своему желанию можете реализовать initramfs отдельным файлом - ничего сложного.

Что понадобится для создания LiveCD:
1. Исходники ядра Linux (https://www.kernel.org/)
2. Busybox (http://busybox.net/)
3. cdrtools (http://freecode.com/projects/cdrecord)

Все действия необходимо проводить под Linux. Если вы можете скомпилить всё это
под Windows, то моё почтение. Приступим:

1. Вы можете собрать свой собственный initramfs
(http://wiki.sourcemage.org/HowTo%282f%29Initramfs.html). Но я всё же
предлагаю на первом этапе использовать подготовленный мной.

2. Качаем ядро Linux. При создании LiveCD я использовал версию "3.16.7".
Распаковываем его и копируем в корень файл ".config". Выполняем команду "make
menuconfig", нам необходимо указать путь до директории содержайщей initramfs:
"General->Initramfs source file(s)".

3. Собираем ядро "make". В итоге у вас должен появиться файл
arch/x86/boot/bzImage. Его необходимо скопировать в директорию source/boot/ и
переименовать в vmlinuz.

4. Качайте и устанавливайте cdrtools. В этот пакет входит утилита с помощью
которой мы будем создавать ISO-файл: mkisofs.

5. Находясь в корне проекта выполняем команду ./build_slim

6. Поздравляю, у вас есть livecd_slim.iso

При загрузки с LiveCD будет вызвана консоль. Для дампа паролей необходимо
выполнить либо ./dump_sam.sh , либо ./dump_shadow.sh, зависит от того, какая
ОС установленна на основной системе.

Для автоматизации действий необходимо изменять файл init. Он выполняется по
умолчанию в initramfs. В моем случаем это shell-скрипт, но ничто не мешает вам
реализовать его на C.

Для добавления ПО в initramfs необходимо либо компилировать его статически,
либо тащить библиотеки необходимые для его работы.
